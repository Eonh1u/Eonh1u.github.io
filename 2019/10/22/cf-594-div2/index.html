<!DOCTYPE html>
<html lang="">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Muse","version":"8.0.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}};
  </script>

  <meta name="description" content="A: Integer PointsÈ¢òÁõÆÔºöDLS and JLS are bored with a Math lesson. In order to entertain themselves, DLS took a sheet of paper and drew ùëõ distinct lines, given by equations ùë¶&#x3D;ùë•+ùëùùëñ for some distinct ùëù">
<meta property="og:type" content="article">
<meta property="og:title" content="cf-594-div2">
<meta property="og:url" content="http://yoursite.com/2019/10/22/cf-594-div2/index.html">
<meta property="og:site_name" content="Eonh1u">
<meta property="og:description" content="A: Integer PointsÈ¢òÁõÆÔºöDLS and JLS are bored with a Math lesson. In order to entertain themselves, DLS took a sheet of paper and drew ùëõ distinct lines, given by equations ùë¶&#x3D;ùë•+ùëùùëñ for some distinct ùëù">
<meta property="og:locale">
<meta property="og:image" content="http://yoursite.com/2019/10/22/cf-594-div2/a.png">
<meta property="og:image" content="http://yoursite.com/2019/10/22/cf-594-div2/b.png">
<meta property="article:published_time" content="2019-10-22T01:14:31.000Z">
<meta property="article:modified_time" content="2019-10-22T01:35:16.045Z">
<meta property="article:author" content="Eonh1u">
<meta property="article:tag" content="ACM">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://yoursite.com/2019/10/22/cf-594-div2/a.png">


<link rel="canonical" href="http://yoursite.com/2019/10/22/cf-594-div2/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'default'
  };
</script>

  <title>cf-594-div2 | Eonh1u</title>
  






  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Eonh1u</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags<span class="badge">10</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories<span class="badge">6</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives<span class="badge">71</span></a>

  </li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <section class="post-toc-wrap sidebar-panel">
          <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#A-Integer-Points"><span class="nav-number">1.</span> <span class="nav-text">A: Integer Points</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%EF%BC%9A"><span class="nav-number">1.1.</span> <span class="nav-text">È¢òÁõÆÔºö</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Input"><span class="nav-number">1.1.1.</span> <span class="nav-text">Input</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Output"><span class="nav-number">1.1.2.</span> <span class="nav-text">Output</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Example"><span class="nav-number">1.1.3.</span> <span class="nav-text">Example</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Note"><span class="nav-number">1.1.4.</span> <span class="nav-text">Note</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A"><span class="nav-number">1.2.</span> <span class="nav-text">È¢òËß£Ôºö</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%EF%BC%9A"><span class="nav-number">1.3.</span> <span class="nav-text">‰ª£Á†ÅÔºö</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#B-Grow-The-Tree"><span class="nav-number">2.</span> <span class="nav-text">B Grow The Tree</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%EF%BC%9A-1"><span class="nav-number">2.1.</span> <span class="nav-text">È¢òÁõÆÔºö</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Input-1"><span class="nav-number">2.1.1.</span> <span class="nav-text">Input</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Output-1"><span class="nav-number">2.1.2.</span> <span class="nav-text">Output</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Examples"><span class="nav-number">2.1.3.</span> <span class="nav-text">Examples</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-1"><span class="nav-number">2.2.</span> <span class="nav-text">È¢òËß£Ôºö</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%EF%BC%9A-1"><span class="nav-number">2.3.</span> <span class="nav-text">‰ª£Á†ÅÔºö</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#D1-The-World-Is-Just-a-Programming-Task-Easy-Version"><span class="nav-number">3.</span> <span class="nav-text">D1. The World Is Just a Programming Task (Easy Version)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%EF%BC%9A-2"><span class="nav-number">3.1.</span> <span class="nav-text">È¢òÁõÆÔºö</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Input-2"><span class="nav-number">3.1.1.</span> <span class="nav-text">Input</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Output-2"><span class="nav-number">3.1.2.</span> <span class="nav-text">Output</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Examples-1"><span class="nav-number">3.1.3.</span> <span class="nav-text">Examples</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Note-1"><span class="nav-number">3.1.4.</span> <span class="nav-text">Note</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A2%98%E8%A7%A3%EF%BC%9A-2"><span class="nav-number">3.2.</span> <span class="nav-text">È¢òËß£Ôºö</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%EF%BC%9A-2"><span class="nav-number">3.3.</span> <span class="nav-text">‰ª£Á†ÅÔºö</span></a></li></ol></li></ol></div>
      </section>
      <!--/noindex-->

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Eonh1u</p>
  <div class="site-description" itemprop="description">show me the code</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">71</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/huyutuo" title="GitHub ‚Üí https:&#x2F;&#x2F;github.com&#x2F;huyutuo" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.zhihu.com/people/hyt-97" title="ZhiHu ‚Üí https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;hyt-97" rel="noopener" target="_blank"><i class="fab fa-zhihu fa-fw"></i>ZhiHu</a>
      </span>
  </div>



      </section>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">
      

      

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="default">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/22/cf-594-div2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Eonh1u">
      <meta itemprop="description" content="show me the code">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eonh1u">
    </span>

    
    
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          cf-594-div2
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2019-10-22 09:14:31 / Modified: 09:35:16" itemprop="dateCreated datePublished" datetime="2019-10-22T09:14:31+08:00">2019-10-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/ACM/" itemprop="url" rel="index"><span itemprop="name">ACM</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="A-Integer-Points"><a href="#A-Integer-Points" class="headerlink" title="A: Integer Points"></a>A: Integer Points</h1><h2 id="È¢òÁõÆÔºö"><a href="#È¢òÁõÆÔºö" class="headerlink" title="È¢òÁõÆÔºö"></a>È¢òÁõÆÔºö</h2><p>DLS and JLS are bored with a Math lesson. In order to entertain themselves, DLS took a sheet of paper and drew ùëõ distinct lines, given by equations ùë¶=ùë•+ùëùùëñ for some distinct ùëù1,ùëù2,‚Ä¶,ùëùùëõ.</p>
<p>Then JLS drew on the same paper sheet ùëö distinct lines given by equations ùë¶=‚àíùë•+ùëûùëñ for some distinct ùëû1,ùëû2,‚Ä¶,ùëûùëö.</p>
<p>DLS and JLS are interested in counting how many line pairs have integer intersection points, i.e. points with both coordinates that are integers. Unfortunately, the lesson will end up soon, so DLS and JLS are asking for your help.</p>
<span id="more"></span>

<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first line contains one integer ùë° (1‚â§ùë°‚â§1000), the number of test cases in the input. Then follow the test case descriptions.</p>
<p>The first line of a test case contains an integer ùëõ (1‚â§ùëõ‚â§10^5), the number of lines drawn by DLS.</p>
<p>The second line of a test case contains ùëõ distinct integers ùëùùëñ (0‚â§ùëùùëñ‚â§10^9) describing the lines drawn by DLS. The integer ùëùùëñ describes a line given by the equation ùë¶=ùë•+ùëùùëñ.</p>
<p>The third line of a test case contains an integer ùëö (1‚â§ùëö‚â§10^5), the number of lines drawn by JLS.</p>
<p>The fourth line of a test case contains ùëö distinct integers ùëûùëñ (0‚â§ùëûùëñ‚â§10^9) describing the lines drawn by JLS. The integer ùëûùëñ describes a line given by the equation ùë¶=‚àíùë•+ùëûùëñ.</p>
<p>The sum of the values of ùëõ over all test cases in the input does not exceed 105. Similarly, the sum of the values of ùëö over all test cases in the input does not exceed 105.</p>
<p>In hacks it is allowed to use only one test case in the input, so ùë°=1 should be satisfied.</p>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each test case in the input print a single integer ‚Äî the number of line pairs with integer intersection points.</p>
<h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><p>input</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">3</span><br><span class="line">1 3 2</span><br><span class="line">2</span><br><span class="line">0 3</span><br><span class="line">1</span><br><span class="line">1</span><br><span class="line">1</span><br><span class="line">1</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">1</span><br><span class="line">1</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">1</span><br><span class="line">0</span><br></pre></td></tr></table></figure>
<h3 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h3><p>The picture shows the lines from the first test case of the example. Black circles denote intersection points with integer coordinates.<br><img src="a.png"></p>
<h2 id="È¢òËß£Ôºö"><a href="#È¢òËß£Ôºö" class="headerlink" title="È¢òËß£Ôºö"></a>È¢òËß£Ôºö</h2><p>pi‰∏éqiÂêå‰∏∫Â•áÊï∞ÊàñËÄÖÂêå‰∏∫ÂÅ∂Êï∞Êó∂Êâç‰ºöÊúâÊï¥Êï∞ÁöÑ‰∫§ÁÇπ„ÄÇ</p>
<h2 id="‰ª£Á†ÅÔºö"><a href="#‰ª£Á†ÅÔºö" class="headerlink" title="‰ª£Á†ÅÔºö"></a>‰ª£Á†ÅÔºö</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;stdio.h&gt;</span><br><span class="line">#include&lt;algorithm&gt;</span><br><span class="line">#include&lt;string&gt;</span><br><span class="line">#include&lt;string.h&gt;</span><br><span class="line">#include&lt;stack&gt;</span><br><span class="line">#include&lt;queue&gt;</span><br><span class="line">#include&lt;set&gt;</span><br><span class="line">#include&lt;map&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    int t;</span><br><span class="line">    scanf(&quot;%d&quot;, &amp;t);</span><br><span class="line">    while(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        long long ans  = 0;</span><br><span class="line">        long long sum[2][2];</span><br><span class="line">        sum[0][0]=0;sum[0][1]=0;</span><br><span class="line">        sum[1][0]=0;sum[1][1]=0;</span><br><span class="line">        int n;</span><br><span class="line">        scanf(&quot;%d&quot;, &amp;n);</span><br><span class="line">        while(n--)</span><br><span class="line">        &#123;</span><br><span class="line">            int a;</span><br><span class="line">            scanf(&quot;%d&quot;, &amp;a);</span><br><span class="line">            if(a%2==1)&#123;</span><br><span class="line">                sum[0][0]++;</span><br><span class="line">                //printf(&quot;%d\n&quot;,sum[0][0]);</span><br><span class="line">            &#125;</span><br><span class="line">            else </span><br><span class="line">                sum[0][1]++;                </span><br><span class="line">        &#125;</span><br><span class="line">        int m;</span><br><span class="line">        scanf(&quot;%d&quot;, &amp;m);</span><br><span class="line">  </span><br><span class="line">        while(m--)</span><br><span class="line">        &#123;</span><br><span class="line">            int a;</span><br><span class="line">            scanf(&quot;%d&quot;, &amp;a);</span><br><span class="line">            if(a%2==1)</span><br><span class="line">                sum[1][0]++;</span><br><span class="line">            else </span><br><span class="line">                sum[1][1]++;                </span><br><span class="line">        &#125;</span><br><span class="line">       </span><br><span class="line">        ans = sum[0][0]*sum[1][0] + sum[0][1] * sum[1][1];</span><br><span class="line">        printf(&quot;%lld\n&quot;, ans);</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="B-Grow-The-Tree"><a href="#B-Grow-The-Tree" class="headerlink" title="B Grow The Tree"></a>B Grow The Tree</h1><h2 id="È¢òÁõÆÔºö-1"><a href="#È¢òÁõÆÔºö-1" class="headerlink" title="È¢òÁõÆÔºö"></a>È¢òÁõÆÔºö</h2><p>Gardener Alexey teaches competitive programming to high school students. To congratulate Alexey on the Teacher‚Äôs Day, the students have gifted him a collection of wooden sticks, where every stick has an integer length. Now Alexey wants to grow a tree from them.</p>
<p>The tree looks like a polyline on the plane, consisting of all sticks. The polyline starts at the point (0,0). While constructing the polyline, Alexey will attach sticks to it one by one in arbitrary order. Each stick must be either vertical or horizontal (that is, parallel to ùëÇùëã or ùëÇùëå axis). It is not allowed for two consecutive sticks to be aligned simultaneously horizontally or simultaneously vertically. See the images below for clarification.</p>
<p>Alexey wants to make a polyline in such a way that its end is as far as possible from (0,0). Please help him to grow the tree this way.</p>
<p>Note that the polyline defining the form of the tree may have self-intersections and self-touches, but it can be proved that the optimal answer does not contain any self-intersections or self-touches.</p>
<h3 id="Input-1"><a href="#Input-1" class="headerlink" title="Input"></a>Input</h3><p>The first line contains an integer ùëõ (1‚â§ùëõ‚â§100000) ‚Äî the number of sticks Alexey got as a present.</p>
<p>The second line contains ùëõ integers ùëé1,‚Ä¶,ùëéùëõ (1‚â§ùëéùëñ‚â§10000) ‚Äî the lengths of the sticks.</p>
<h3 id="Output-1"><a href="#Output-1" class="headerlink" title="Output"></a>Output</h3><p>Print one integer ‚Äî the square of the largest possible distance from (0,0) to the tree end.</p>
<h3 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h3><p>input</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">1 2 3</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">26</span><br></pre></td></tr></table></figure>
<p>input</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">1 1 2 2</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">20</span><br></pre></td></tr></table></figure>
<p>Note<br>The following pictures show optimal trees for example tests. The squared distance in the first example equals 5‚ãÖ5+1‚ãÖ1=26, and in the second example 4‚ãÖ4+2‚ãÖ2=20.<br><img src="b.png"></p>
<h2 id="È¢òËß£Ôºö-1"><a href="#È¢òËß£Ôºö-1" class="headerlink" title="È¢òËß£Ôºö"></a>È¢òËß£Ôºö</h2><p>ÂØπÊï∞ÁªÑÊéíÂ∫èÔºåÂâçn/2ÁöÑÊÄªÂíå‰∏éÂâ©‰ΩôÁöÑÊÄªÂíåÂç≥ÊòØans</p>
<h2 id="‰ª£Á†ÅÔºö-1"><a href="#‰ª£Á†ÅÔºö-1" class="headerlink" title="‰ª£Á†ÅÔºö"></a>‰ª£Á†ÅÔºö</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;stdio.h&gt;</span><br><span class="line">#include&lt;algorithm&gt;</span><br><span class="line">#include&lt;string&gt;</span><br><span class="line">#include&lt;string.h&gt;</span><br><span class="line">#include&lt;stack&gt;</span><br><span class="line">#include&lt;queue&gt;</span><br><span class="line">#include&lt;set&gt;</span><br><span class="line">#include&lt;map&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">int a[100010];</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    int n;</span><br><span class="line">    scanf(&quot;%d&quot;, &amp;n);</span><br><span class="line">    long long p1 = 0,sum =0;</span><br><span class="line">    for(int i = 0; i &lt; n ;i++)&#123;</span><br><span class="line">        scanf(&quot;%d&quot;, &amp;a[i]);</span><br><span class="line">        sum +=a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    sort(a, a+n);</span><br><span class="line">    for(int i = 0; i &lt; n/2;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        p1 += a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    sum -= p1;</span><br><span class="line">    long long ans  = p1*p1+sum*sum;</span><br><span class="line">    printf(&quot;%lld&quot;,ans);</span><br><span class="line">    return 0;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="D1-The-World-Is-Just-a-Programming-Task-Easy-Version"><a href="#D1-The-World-Is-Just-a-Programming-Task-Easy-Version" class="headerlink" title="D1. The World Is Just a Programming Task (Easy Version)"></a>D1. The World Is Just a Programming Task (Easy Version)</h1><h2 id="È¢òÁõÆÔºö-2"><a href="#È¢òÁõÆÔºö-2" class="headerlink" title="È¢òÁõÆÔºö"></a>È¢òÁõÆÔºö</h2><p>This is an easier version of the problem. In this version, ùëõ‚â§500.</p>
<p>Vasya is an experienced developer of programming competitions‚Äô problems. As all great minds at some time, Vasya faced a creative crisis. To improve the situation, Petya gifted him a string consisting of opening and closing brackets only. Petya believes, that the beauty of the bracket string is a number of its cyclical shifts, which form a correct bracket sequence.</p>
<p>To digress from his problems, Vasya decided to select two positions of the string (not necessarily distinct) and swap characters located at this positions with each other. Vasya will apply this operation exactly once. He is curious what is the maximum possible beauty he can achieve this way. Please help him.</p>
<p>We remind that bracket sequence ùë† is called correct if:</p>
<p>ùë† is empty;<br>ùë† is equal to ‚Äú(ùë°)‚Äù, where ùë° is correct bracket sequence;<br>ùë† is equal to ùë°1ùë°2, i.e. concatenation of ùë°1 and ùë°2, where ùë°1 and ùë°2 are correct bracket sequences.<br>For example, ‚Äú(()())‚Äù, ‚Äú()‚Äù are correct, while ‚Äú)(‚Äú and ‚Äú())‚Äù are not.</p>
<p>The cyclical shift of the string ùë† of length ùëõ by ùëò (0‚â§ùëò&lt;ùëõ) is a string formed by a concatenation of the last ùëò symbols of the string ùë† with the first ùëõ‚àíùëò symbols of string ùë†. For example, the cyclical shift of string ‚Äú(())()‚Äù by 2 equals ‚Äú()(())‚Äù.</p>
<p>Cyclical shifts ùëñ and ùëó are considered different, if ùëñ‚â†ùëó.</p>
<h3 id="Input-2"><a href="#Input-2" class="headerlink" title="Input"></a>Input</h3><p>The first line contains an integer ùëõ (1‚â§ùëõ‚â§500), the length of the string.</p>
<p>The second line contains a string, consisting of exactly ùëõ characters, where each of the characters is either ‚Äú(‚Äú or ‚Äú)‚Äù.</p>
<h3 id="Output-2"><a href="#Output-2" class="headerlink" title="Output"></a>Output</h3><p>The first line should contain a single integer ‚Äî the largest beauty of the string, which can be achieved by swapping some two characters.</p>
<p>The second line should contain integers ùëô and ùëü (1‚â§ùëô,ùëü‚â§ùëõ) ‚Äî the indices of two characters, which should be swapped in order to maximize the string‚Äôs beauty.</p>
<p>In case there are several possible swaps, print any of them.</p>
<h3 id="Examples-1"><a href="#Examples-1" class="headerlink" title="Examples"></a>Examples</h3><p>input</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">10</span><br><span class="line">()()())(()</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">5</span><br><span class="line">8 7</span><br></pre></td></tr></table></figure>
<p>input</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">12</span><br><span class="line">)(()(()())()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">5 10</span><br></pre></td></tr></table></figure>
<p>input</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">6</span><br><span class="line">)))(()</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">0</span><br><span class="line">1 1</span><br></pre></td></tr></table></figure>
<h3 id="Note-1"><a href="#Note-1" class="headerlink" title="Note"></a>Note</h3><p>In the first example, we can swap 7-th and 8-th character, obtaining a string ‚Äú()()()()()‚Äù. The cyclical shifts by 0,2,4,6,8 of this string form a correct bracket sequence.</p>
<p>In the second example, after swapping 5-th and 10-th character, we obtain a string ‚Äú)(())()()(()‚Äù. The cyclical shifts by 11,7,5,3 of this string form a correct bracket sequence.</p>
<p>In the third example, swap of any two brackets results in 0 cyclical shifts being correct bracket sequences.</p>
<h2 id="È¢òËß£Ôºö-2"><a href="#È¢òËß£Ôºö-2" class="headerlink" title="È¢òËß£Ôºö"></a>È¢òËß£Ôºö</h2><p>Êö¥ÂäõÊ±ÇËß£ÔºåÂú®‰∫§Êç¢ij‰πãÂêéÔºåËÆ°ÁÆóÂâçÁºÄÂíåÔºåËÆ°ÁÆóÊúÄÂ∞èÂÄºÔºåÊ±ÇÂá∫ÊúÄÂ∞èÂÄºÂá∫Áé∞ÁöÑÊ¨°Êï∞ÔºåÂç≥‰∏∫ÊØèÁßç‰∫§Êç¢ÂêéÔºåÊâÄÂæóÂà∞ÁöÑÂÄºÔºåÂèñÊúÄÂ§ßÂÄºÂç≥ÂèØ„ÄÇ</p>
<h2 id="‰ª£Á†ÅÔºö-2"><a href="#‰ª£Á†ÅÔºö-2" class="headerlink" title="‰ª£Á†ÅÔºö"></a>‰ª£Á†ÅÔºö</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;stdio.h&gt;</span><br><span class="line">#include&lt;algorithm&gt;</span><br><span class="line">#include&lt;string&gt;</span><br><span class="line">#include&lt;string.h&gt;</span><br><span class="line">#include&lt;stack&gt;</span><br><span class="line">#include&lt;queue&gt;</span><br><span class="line">#include&lt;set&gt;</span><br><span class="line">#include&lt;map&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">char s[510];</span><br><span class="line">char tmp[510];</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    int n;</span><br><span class="line">    scanf(&quot;%d&quot;, &amp;n);</span><br><span class="line">    scanf(&quot;%s&quot;, s);</span><br><span class="line">    int now = 0;</span><br><span class="line">    for(int i = 0; i &lt; n; i++)&#123;</span><br><span class="line">        if(s[i] == &#x27;(&#x27;)</span><br><span class="line">            now++;</span><br><span class="line">        else</span><br><span class="line">        &#123;</span><br><span class="line">            now--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    if(now != 0)&#123;</span><br><span class="line">        printf(&quot;0\n1 1&quot;);</span><br><span class="line">        return 0;</span><br><span class="line">    &#125;</span><br><span class="line">    int x=0, y= 0, ans = 0;</span><br><span class="line">    for(int i = 0; i &lt; n; i++)</span><br><span class="line">        for(int j = 0; j &lt;n;j++)&#123;</span><br><span class="line">            int p = 0;</span><br><span class="line">            strcpy(tmp,s);</span><br><span class="line">            swap(tmp[i],tmp[j]);</span><br><span class="line">            int MIN = 999;</span><br><span class="line">            now = 0;</span><br><span class="line">            for(int k = 0; k &lt; n ;k++)&#123;</span><br><span class="line">                if(tmp[k] == &#x27;(&#x27;)</span><br><span class="line">                    now++;</span><br><span class="line">                else&#123;</span><br><span class="line">                    now--;</span><br><span class="line">                &#125;</span><br><span class="line">                MIN  = min(now,MIN);</span><br><span class="line">            &#125;</span><br><span class="line">            now = 0;</span><br><span class="line">            for(int k = 0; k &lt; n ;k++)&#123;</span><br><span class="line">                if(tmp[k] == &#x27;(&#x27;)</span><br><span class="line">                    now++;</span><br><span class="line">                else&#123;</span><br><span class="line">                    now--;</span><br><span class="line">                &#125;</span><br><span class="line">                if(now == MIN)</span><br><span class="line">                    p++;</span><br><span class="line">            &#125;</span><br><span class="line">            if(p &gt; ans)&#123;</span><br><span class="line">                ans = p;</span><br><span class="line">                x = i;</span><br><span class="line">                y = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    printf(&quot;%d\n&quot;,ans);</span><br><span class="line">    printf(&quot;%d %d&quot;,x+1,y+1);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/ACM/" rel="tag"># ACM</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2019/10/19/cf-593-div2/" rel="prev" title="cf-593-div2">
                  <i class="fa fa-chevron-left"></i> cf-593-div2
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2019/10/23/cf-595-div3/" rel="next" title="cf-595-div3">
                  cf-595-div3 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
  
  
  



      

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

    </div>
  </main>

  <footer class="footer">
    <div class="footer-inner">
      

      

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Eonh1u</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.0/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  















  








  

  

</body>
</html>
